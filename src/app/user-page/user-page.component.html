<div *ngIf="user">
  <div class="container m-5">
    <div class="row">
      <div class="col-md-8">
        <h2>User Profile</h2>
        <form>

          <div class="col-md-6">
            <div class="form-group">
              <dl class="row">
                <dt class="col-sm-3">Email:</dt>
                <dd class="col-sm-9">{{ user.email }}</dd>
              </dl>
            </div>
          </div>

          <div class="col-md-6" *ngFor="let field of userFields">
            <div class="form-group row">
              <label for="field" class="col-sm-3 col-form-label">{{ userFieldNames[field] }}</label>
              <div *ngIf="editingField !== field; else fieldEdit" class="col-sm-9 row d-flex align-items-center">
                <div class="col-sm-9">
                  {{ user[field] }}
                </div>
                <button type="button" class="btn btn-link col-sm-3" (click)="startEditing(field)">
                  <i class="fas fa-pencil"></i><span class="modify-text">Modify</span>
                </button>
              </div>
              <ng-template #fieldEdit>
                <input type="text" [ngModel]="user[field]" (ngModelChange)="user[field] = $event" name="field"
                  class="form-control">
              </ng-template>
            </div>
          </div>

          <div class="text-right">
            <button type="button" class="btn btn-success m-3" (click)="saveChanges()" [hidden]="editingField === ''">
              Save Changes
            </button>
            <button type="button" class="btn btn-secondary m-3" (click)="cancelEditing()"
              [hidden]="editingField === ''">
              Cancel
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>